!function(t){"use strict";t.oui=t.oui||{},t.extend(!0,t.oui,{utils:{element:{getHeightToBottom:function(e,o){var i=t(window).height(),n=t(e);return o=o||0,i-n.offset().top-o},getWidthToRight:function(e,o){var i=t(window).width(),n=t(e);return o=o||0,i-n.offset().left-o},setHeightToBottom:function(e,o){var i=t(window).height(),n=t(e);o=o||0,n.each(function(){var e=t(this);e.outerHeight(i-e.offset().top-o)})},autoHeight:function(e,o){var i=t.oui.utils.element.getHeightToBottom(e,o),n=t(e),r=t(window),l=-1;n.css("height",i),r.off("resize.autoHeight",e),r.on("resize.autoHeight",e,function(){window.clearTimeout(l),l=window.setTimeout(function(){i=t.oui.utils.element.getHeightToBottom(e,o),n.css("height",i),window.clearTimeout(l)},100)})},autoWidth:function(e,o){var i=t.oui.utils.element.getWidthToRight(e,o),n=t(e),r=t(window),l=-1;n.css("width",i),r.off("resize.autoWidth",e),r.on("resize.autoWidth",e,function(){window.clearTimeout(l),l=window.setTimeout(function(){i=t.oui.utils.element.getWidthToRight(e,o),n.css("width",i),window.clearTimeout(l)},100)})},showCenter:function(e,o){var i=t(e),n=i.width(),r=i.height(),l=t(window),f=l.width(),s=l.height(),u=-1,h=-1;f>n&&(u=(f-n)/2,o.offset&&o.offset.left&&(u+=o.offset.left)),s>r&&(h=(s-r)/2,o.offset&&o.offset.top&&(h+=o.offset.top)),-1!=u&&i.css({left:u}),-1!=h&&i.css({top:h}),i.show()}},string:{format:function(e){var o=t.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(t,e){return o[e]})}},date:{format:function(e,o){if(!e)return e;var i,n="",r=t.oui.utils.date;if(o=r._parseFormat(o),i={h:function(t){var e=t.getHours();return e>12?e-=12:e,0==e?12:e},hh:function(t){var e=t.getHours();return e>12?e-=12:e,0==e?12:r._addZero(e)},HH:function(t){return r._addZero(t.getHours())},M:function(t){return t.getMonth()+1},MM:function(t){return r._addZero(t.getMonth()+1)},m:function(t){return t.getMinutes()},mm:function(t){return r._addZero(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return r._addZero(t.getSeconds())},yyyy:function(t){return t.getFullYear()},yy:function(t){return t.getYear()%100<10?"0":""+t.getYear()%100},d:function(t){return t.getDate()},dd:function(t){return r._addZero(t.getDate())}},o.parts.length)for(var l=0,f=o.parts.length;f>l;l++)n+=o.separators[l]+i[o.parts[l]](e);return n},unFormat:function(e,o){if(!e)return e;if(e instanceof Date)return e;var i,n,r,l,f={yyyy:0,M:0,d:0,h:0,m:0,s:0};if(o=t.oui.utils.date._parseFormat(o),i=e&&e.toString().match(/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g)||[],l={h:function(t){f.h=t},M:function(t){t-=1,f.M=t},m:function(t){f.m=t},s:function(t){f.s=t},yyyy:function(t){f.yyyy=t},yy:function(t){f.yyyy=t},d:function(t){f.d=t}},l.dd=l.d,l.ss=l.s,l.mm=l.m,l.MM=l.M,l.HH=l.H=l.hh=l.h,i.length==o.parts.length)for(var s=0,u=o.parts.length;u>s;s++)n=parseInt(i[s],10),r=o.parts[s],l[o.parts[s]](n);return new Date(f.yyyy,f.M,f.d,f.h,f.m,f.s)},_parseFormat:function(t){var e=/hh?|HH?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g,o=t.replace(e,"\x00").split("\x00"),i=t.match(e);if(!o||!o.length||!i||0==i.length)throw new Error("Invalid date format.");return{separators:o,parts:i}},_addZero:function(t){return 10>t?"0"+t:t}},number:{isNum:function(t){return"number"==typeof t&&isFinite(t)},currency:function(e,o,i,n,r,l){if(i=null!=i?i:"",r=null!=r?r:"",l=null!=l?l:"",t.oui.utils.number.isNum(e)||(e*=1),t.oui.utils.number.isNum(e)){var f,s=0>e,u=String(e),h=n||".";if(t.oui.utils.number.isNum(o)){var c=o,a=Math.pow(10,c);if(u=String(Math.round(e*a)/a),f=u.lastIndexOf("."),c>0)for(0>f?(u+=h,f=u.length-1):"."!==h&&(u=u.replace(".",h));u.length-1-f<c;)u+="0"}if(i){var d=i;f=u.lastIndexOf(h),f=f>-1?f:u.length;var p,g=u.substring(f),m=-1;for(p=f;p>0;p--)m++,m%3===0&&p!==f&&(!s||p>1)&&(g=d+g),g=u.charAt(p-1)+g;u=g}return u=r?r+u:u,u=l?u+l:u}return e},unCurrency:function(t,e,o,i,n){var r,l,f,s=""+t,u=/([\.\*\_\'\(\)\{\}\+\?\\])/g;return e||(e=","),r=e.replace(u,"\\$1"),l=new RegExp(r,"g"),f=s,i&&i.length&&(f=f.substr(i.length)),n&&n.length&&(f=f.substr(0,f.length-n.length)),f=f.replace(l,"").replace(o,".")}}}})}(jQuery),function(t,e){"use strict";function o(t,e,o){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?o/100:1)]}function i(e,o){return parseInt(t.css(e,o),10)||0}function n(e){var o=e[0];return 9===o.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(o)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:o.preventDefault?{width:0,height:0,offset:{top:o.pageY,left:o.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.oui=t.oui||{};var r,l=Math.max,f=Math.abs,s=Math.round,u=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,d=/%$/,p=t.fn.positioner;t.extend(!0,t.oui,{utils:{position:{scrollbarWidth:function(){if(r!==e)return r;var o,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),o=l.offsetWidth,n.css("overflow","scroll"),i=l.offsetWidth,o===i&&(i=n[0].clientWidth),n.remove(),r=o-i},getScrollInfo:function(e){var o=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===o||"auto"===o&&e.width<e.element[0].scrollWidth,r="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:r?t.oui.utils.position.scrollbarWidth():0,height:n?t.oui.utils.position.scrollbarWidth():0}},getWithinInfo:function(e){var o=t(e||window),i=t.isWindow(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:i,isDocument:n,offset:o.offset()||{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:i?o.width():o.outerWidth(),height:i?o.height():o.outerHeight()}}}}}),t.fn.positioner=function(e){if(!e||!e.of)return p.apply(this,arguments);e=t.extend({},e);var r,d,g,m,w,y,v=t(e.of),W=t.oui.utils.position.getWithinInfo(e.within),H=t.oui.utils.position.getScrollInfo(W),T=(e.collision||"flip").split(" "),b={};return y=n(v),v[0].preventDefault&&(e.at="left top"),d=y.width,g=y.height,m=y.offset,w=t.extend({},m),t.each(["my","at"],function(){var t,o,i=(e[this]||"").split(" ");1===i.length&&(i=u.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=u.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=c.exec(i[0]),o=c.exec(i[1]),b[this]=[t?t[0]:0,o?o[0]:0],e[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===T.length&&(T[1]=T[0]),"right"===e.at[0]?w.left+=d:"center"===e.at[0]&&(w.left+=d/2),"bottom"===e.at[1]?w.top+=g:"center"===e.at[1]&&(w.top+=g/2),r=o(b.at,d,g),w.left+=r[0],w.top+=r[1],this.each(function(){var n,u,h=t(this),c=h.outerWidth(),a=h.outerHeight(),p=i(this,"marginLeft"),y=i(this,"marginTop"),x=c+p+i(this,"marginRight")+H.width,M=a+y+i(this,"marginBottom")+H.height,L=t.extend({},w),k=o(b.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?L.left-=c:"center"===e.my[0]&&(L.left-=c/2),"bottom"===e.my[1]?L.top-=a:"center"===e.my[1]&&(L.top-=a/2),L.left+=k[0],L.top+=k[1],t.support.offsetFractions||(L.left=s(L.left),L.top=s(L.top)),n={marginLeft:p,marginTop:y},t.each(["left","top"],function(o,i){t.oui.positioner[T[o]]&&t.oui.positioner[T[o]][i](L,{targetWidth:d,targetHeight:g,elemWidth:c,elemHeight:a,collisionPosition:n,collisionWidth:x,collisionHeight:M,offset:[r[0]+k[0],r[1]+k[1]],my:e.my,at:e.at,within:W,elem:h})}),e.using&&(u=function(t){var o=m.left-L.left,i=o+d-c,n=m.top-L.top,r=n+g-a,s={target:{element:v,left:m.left,top:m.top,width:d,height:g},element:{element:h,left:L.left,top:L.top,width:c,height:a},horizontal:0>i?"left":o>0?"right":"center",vertical:0>r?"top":n>0?"bottom":"middle"};c>d&&f(o+i)<d&&(s.horizontal="center"),a>g&&f(n+r)<g&&(s.vertical="middle"),l(f(o),f(i))>l(f(n),f(r))?s.important="horizontal":s.important="vertical",e.using.call(this,t,s)}),h.offset(t.extend(L,{using:u}))})},t.oui.positioner={fit:{left:function(t,e){var o,i=e.within,n=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,f=t.left-e.collisionPosition.marginLeft,s=n-f,u=f+e.collisionWidth-r-n;e.collisionWidth>r?s>0&&0>=u?(o=t.left+s+e.collisionWidth-r-n,t.left+=s-o):u>0&&0>=s?t.left=n:s>u?t.left=n+r-e.collisionWidth:t.left=n:s>0?t.left+=s:u>0?t.left-=u:t.left=l(t.left-f,t.left)},top:function(t,e){var o,i=e.within,n=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,f=t.top-e.collisionPosition.marginTop,s=n-f,u=f+e.collisionHeight-r-n;e.collisionHeight>r?s>0&&0>=u?(o=t.top+s+e.collisionHeight-r-n,t.top+=s-o):u>0&&0>=s?t.top=n:s>u?t.top=n+r-e.collisionHeight:t.top=n:s>0?t.top+=s:u>0?e.elemHeight<=t.top-e.targetHeight?t.top=t.top-e.targetHeight-e.elemHeight:t.top-=u:t.top=l(t.top-f,t.top)}},flip:{left:function(t,e){var o,i,n=e.within,r=n.offset.left+n.scrollLeft,l=n.width,s=n.isWindow?n.scrollLeft:n.offset.left,u=t.left-e.collisionPosition.marginLeft,h=u-s,c=u+e.collisionWidth-l-s,a="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>h?(o=t.left+a+d+p+e.collisionWidth-l-r,(0>o||o<f(h))&&(t.left+=a+d+p)):c>0&&(i=t.left-e.collisionPosition.marginLeft+a+d+p-s,(i>0||f(i)<c)&&(t.left+=a+d+p))},top:function(t,e){var o,i,n=e.within,r=n.offset.top+n.scrollTop,l=n.height,s=n.isWindow?n.scrollTop:n.offset.top,u=t.top-e.collisionPosition.marginTop,h=u-s,c=u+e.collisionHeight-l-s,a="top"===e.my[1],d=a?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>h?(i=t.top+d+p+g+e.collisionHeight-l-r,t.top+d+p+g>h&&(0>i||i<f(h))&&(t.top+=d+p+g)):c>0&&(o=t.top-e.collisionPosition.marginTop+d+p+g-s,t.top+d+p+g>c&&(o>0||f(o)<c)&&(t.top+=d+p+g))}},flipfit:{left:function(){t.oui.positioner.flip.left.apply(this,arguments),t.oui.positioner.fit.left.apply(this,arguments)},top:function(){t.oui.positioner.flip.top.apply(this,arguments),t.oui.positioner.fit.top.apply(this,arguments)}}},function(){var e,o,i,n,r,l=document.getElementsByTagName("body")[0],f=document.createElement("div");e=document.createElement(l?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in i)e.style[r]=i[r];e.appendChild(f),o=l||document.documentElement,o.insertBefore(e,o.firstChild),f.style.cssText="position: absolute; left: 10.7432222px;",n=t(f).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",o.removeChild(e)}()}(jQuery),$.extend(!0,$.oui.utils.element,{getStandardWinDiffWidth:function(){return $(window).width()-1024},getStandardWinDiffHeight:function(){return $(window).height()-768},onlyClick:function(t,e){function o(t){var o=$(t),i=$("<div style='position:fixed;left:-1000px; top:-1000px;z-index:9999;cursor:not-allowed;'>处理中...</div>").appendTo("body");o.data("mask")||(i.width(o.outerWidth()).height(o.outerHeight()).css({filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0,opacity:0}).positioner({my:"left top",at:"left top",of:o}),o.data("mask",i[0]),window.setTimeout(function(){o.data("mask",null),i.remove()},e))}e||(e=1e3),"string"==typeof t?$(document).off("click.onlyClick").on("click.onlyClick",t,function(){o(this)}):$(t).off("click.onlyClick").on("click.onlyClick",function(){o(this)})},getElementLeft:function(t){for(var e=t.offsetLeft,o=t.offsetParent();null!==o;)e+=o.offsetLeft,o=o.offsetParent;return e},getElementTop:function(t){for(var e=t.offsetTop,o=t.offsetParent;null!==o;)e+=o.offsetTop,o=o.offsetParent;return e},getBoundingClientRect:function(t){var e=document.documentElement.scrollTop,o=document.documentElement.scrollLeft;if(t.getBoundingClientRect){if("number"!=typeof arguments.callee.offset){var i=document.createElement("div");i.style.cssText="position:absolute; left: 0; top:0;",document.body.appendChild(i),arguments.callee.offset=-i.getBoundingClientRect().top-e,document.body.removeChild(i),i=null}var n=t.getBoundingClientRect(),r=arguments.callee.offset;return{left:n.left+r,right:n.right+r,top:n.top+r,bottom:n.bottom+r}}var l=$.oui.utils.element.getElementLeft(t),f=$.oui.utils.element.getElementTop(t);return{left:l-o,right:l+t.offsetWidth-o,top:f-e,bottom:f+t.offsetHeight-e}}});var elementUtil={};