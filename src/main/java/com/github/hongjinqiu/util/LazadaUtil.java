package com.github.hongjinqiu.util;

import com.github.hongjinqiu.config.YmlConfig;
import com.github.hongjinqiu.exception.LazadaException;
import com.lazada.lazop.api.LazopClient;
import com.lazada.lazop.api.LazopRequest;
import com.lazada.lazop.api.LazopResponse;
import com.lazada.lazop.util.ApiException;
import org.apache.commons.lang3.StringUtils;
import org.apache.log4j.Logger;
import org.json.JSONArray;
import org.json.JSONObject;

/**
 * 访问 lazada 接口,并返回数据
 */
public class LazadaUtil {
    private static Logger logger = Logger.getLogger(LazadaUtil.class);
    private static String url = "https://api.lazada.com.my/rest";

    /**
     * 正常的accessToken 结构,
     * {"access_token":"50000400125bjXwUpCdwzIxEjlQxmseadIuDj134bcb9atasrCfbAv8NPj8Xu","country":"my","refresh_token":"50001400c25sugApxPsgDdm1eJSbrrhYGDqem118fb239vudiDSgVjvVhSS05","account_platform":"seller_center","refresh_expires_in":2592000,"country_user_info":[{"country":"my","user_id":"69904","seller_id":"33747","short_code":"MY10RVM"}],"expires_in":604800,"account":"asctest8@mailinator.com","code":"0","request_id":"0ba9f84415579064983495523"}
     * @param code
     * @throws Exception
     */
    public static JSONObject getAccessToken(String code) {
        if (CommonUtil.isDev()) {
            return getAccessTokenForTest();
        }
        YmlConfig ymlConfig = (YmlConfig) SpringUtil.getBean("ymlConfig");
        LazopClient client = new LazopClient("https://auth.lazada.com/rest", ymlConfig.getAppkey(), ymlConfig.getAppSecret());
        LazopRequest request = new LazopRequest("/auth/token/create");
        request.addApiParameter("code", code);
        LazopResponse response = null;
        try {
            response = client.execute(request);
        } catch (ApiException e) {
            logger.error(e.getMessage(), e);
            throw new LazadaException(e);
        }
        JSONObject jsonObject = new JSONObject(response.getBody());
        logger.info("getAccessToken, response.body is:" + response.getBody());
        return jsonObject;
//        return jsonObject.getString("access_token");
    }

    /**
     * 返回测试环境的 accessToken
     * @return
     */
    public static JSONObject getAccessTokenForTest() {
        String text = "{\"access_token\":\"50000400125bjXwUpCdwzIxEjlQxmseadIuDj134bcb9atasrCfbAv8NPj8Xu\",\"country\":\"my\",\"refresh_token\":\"50001400c25sugApxPsgDdm1eJSbrrhYGDqem118fb239vudiDSgVjvVhSS05\",\"account_platform\":\"seller_center\",\"refresh_expires_in\":2592000,\"country_user_info\":[{\"country\":\"my\",\"user_id\":\"69904\",\"seller_id\":\"33747\",\"short_code\":\"MY10RVM\"}],\"expires_in\":604800,\"account\":\"asctest8@mailinator.com\",\"code\":\"0\",\"request_id\":\"0ba9f84415579064983495523\"}";
        return new JSONObject(text);
    }

    /**
     * 获取订单列表
     * {"data":{"count":10,"orders":[{"voucher_platform":0,"voucher":0.00,"order_number":222026088254144,"voucher_seller":0,"created_at":"2019-05-22 16:59:46 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-23 12:22:55 +0800","promised_shipping_times":"","price":"20.00","national_registration_number":"","payment_method":"COD","customer_first_name":"3*******e","shipping_fee":4.80,"items_count":1,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"P***k","address2":"","city":"Bagan Serai","phone":"60********67","address1":"4****************************a","post_code":"34300","phone2":"","last_name":"","address5":"3***0","address4":"B*********i","first_name":"Tineskumar nagalingam"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":222026088254144,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"P***k","address2":"","city":"Bagan Serai","phone":"60********67","address1":"4****************************a","post_code":"34300","phone2":"","last_name":"","address5":"3***0","address4":"B*********i","first_name":"Tineskumar nagalingam"}},{"voucher_platform":0,"voucher":0.00,"order_number":222024490554144,"voucher_seller":0,"created_at":"2019-05-22 17:08:37 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-23 12:22:12 +0800","promised_shipping_times":"","price":"20.00","national_registration_number":"","payment_method":"COD","customer_first_name":"3*******e","shipping_fee":4.80,"items_count":1,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"P***k","address2":"","city":"Bagan Serai","phone":"60********67","address1":"4****************************a","post_code":"34300","phone2":"","last_name":"","address5":"3***0","address4":"B*********i","first_name":"Tineskumar nagalingam"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":222024490554144,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"P***k","address2":"","city":"Bagan Serai","phone":"60********67","address1":"4****************************a","post_code":"34300","phone2":"","last_name":"","address5":"3***0","address4":"B*********i","first_name":"Tineskumar nagalingam"}},{"voucher_platform":0,"voucher":0.00,"order_number":222294126154144,"voucher_seller":0,"created_at":"2019-05-22 15:09:55 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-22 16:48:35 +0800","promised_shipping_times":"","price":"20.00","national_registration_number":"","payment_method":"COD","customer_first_name":"3*******e","shipping_fee":4.80,"items_count":1,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"P***k","address2":"","city":"Bagan Serai","phone":"60********67","address1":"4****************************a","post_code":"34300","phone2":"","last_name":"","address5":"3***0","address4":"B*********i","first_name":"Tineskumar nagalingam"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":222294126154144,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"P***k","address2":"","city":"Bagan Serai","phone":"60********67","address1":"4****************************a","post_code":"34300","phone2":"","last_name":"","address5":"3***0","address4":"B*********i","first_name":"Tineskumar nagalingam"}},{"voucher_platform":0,"voucher":0.00,"order_number":221947206099002,"voucher_seller":0,"created_at":"2019-05-21 13:55:52 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-21 19:17:33 +0800","promised_shipping_times":"","price":"338.00","national_registration_number":"","payment_method":"COD","customer_first_name":"S******o","shipping_fee":4.00,"items_count":2,"delivery_info":"","statuses":["canceled"],"address_billing":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":221947206099002,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"}},{"voucher_platform":0,"voucher":0.00,"order_number":221943469599002,"voucher_seller":0,"created_at":"2019-05-21 13:51:47 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-21 19:02:25 +0800","promised_shipping_times":"","price":"65.00","national_registration_number":"","payment_method":"COD","customer_first_name":"S******o","shipping_fee":4.00,"items_count":1,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":221943469599002,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"}},{"voucher_platform":0,"voucher":0.00,"order_number":222222181199002,"voucher_seller":0,"created_at":"2019-05-21 13:53:04 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-21 19:02:25 +0800","promised_shipping_times":"","price":"978.00","national_registration_number":"","payment_method":"COD","customer_first_name":"S******o","shipping_fee":4.00,"items_count":2,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":222222181199002,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"}},{"voucher_platform":0,"voucher":0.00,"order_number":221947010899002,"voucher_seller":0,"created_at":"2019-05-21 13:54:42 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-21 19:02:25 +0800","promised_shipping_times":"","price":"534.00","national_registration_number":"","payment_method":"COD","customer_first_name":"S******o","shipping_fee":4.00,"items_count":2,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":221947010899002,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"}},{"voucher_platform":0,"voucher":0.00,"order_number":221947600199002,"voucher_seller":0,"created_at":"2019-05-21 13:53:43 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-21 19:02:25 +0800","promised_shipping_times":"","price":"1,707.00","national_registration_number":"","payment_method":"COD","customer_first_name":"S******o","shipping_fee":4.00,"items_count":3,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":221947600199002,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"}},{"voucher_platform":0,"voucher":0.00,"order_number":222221989899002,"voucher_seller":0,"created_at":"2019-05-21 13:55:20 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-21 18:57:27 +0800","promised_shipping_times":"","price":"165.00","national_registration_number":"","payment_method":"COD","customer_first_name":"S******o","shipping_fee":4.00,"items_count":1,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":222221989899002,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"S******r","address2":"","city":"Petaling Jaya","phone":"60********03","address1":"M********************************************************************************************************************a","post_code":"47820","phone2":"","last_name":"","address5":"4***0","address4":"P***********a","first_name":"Seth Koo"}},{"voucher_platform":0,"voucher":0.00,"order_number":221380673254144,"voucher_seller":0,"created_at":"2019-05-15 21:48:56 +0800","voucher_code":"","gift_option":false,"customer_last_name":"","updated_at":"2019-05-21 11:05:14 +0800","promised_shipping_times":"","price":"169.00","national_registration_number":"","payment_method":"COD","customer_first_name":"3*******e","shipping_fee":4.80,"items_count":1,"delivery_info":"","statuses":["ready_to_ship"],"address_billing":{"country":"Malaysia","address3":"P***k","address2":"","city":"Bagan Serai","phone":"60********67","address1":"4****************************a","post_code":"34300","phone2":"","last_name":"","address5":"3***0","address4":"B*********i","first_name":"Tineskumar nagalingam"},"extra_attributes":"{\"TaxInvoiceRequested\":false}","order_id":221380673254144,"gift_message":"","remarks":"","address_shipping":{"country":"Malaysia","address3":"P***k","address2":"","city":"Bagan Serai","phone":"60********67","address1":"4****************************a","post_code":"34300","phone2":"","last_name":"","address5":"3***0","address4":"B*********i","first_name":"Tineskumar nagalingam"}}]},"code":"0","request_id":"0ba9636315586684593432967"}
     * @param accessToken
     * @return
     */
    public static JSONObject ordersGet(String accessToken, String createdBefore, String createdAfter, String status, String limit, String offset) {
        if (CommonUtil.isDev()) {
            return ordersGetForTest();
        }
        YmlConfig ymlConfig = (YmlConfig) SpringUtil.getBean("ymlConfig");
        LazopClient client = new LazopClient(url, ymlConfig.getAppkey(), ymlConfig.getAppSecret());
        LazopRequest request = new LazopRequest();
        request.setApiName("/orders/get");
        request.setHttpMethod("GET");
//        request.addApiParameter("created_before", "2018-02-10T16:00:00+08:00");
//        request.addApiParameter("created_after", "2017-02-10T09:00:00+08:00");
//        request.addApiParameter("status", "shipped");
        if (StringUtils.isNotEmpty(createdBefore)) {
            request.addApiParameter("created_before", createdBefore);
        }
        if (StringUtils.isNotEmpty(createdAfter)) {
            request.addApiParameter("created_after", createdAfter);
        }
        if (StringUtils.isNotEmpty(status)) {
            request.addApiParameter("status", status);
        }

        request.addApiParameter("sort_direction", "DESC");
        request.addApiParameter("sort_by", "updated_at");
        if (StringUtils.isNotEmpty(offset)) {
            request.addApiParameter("offset", offset);
        }
        if (StringUtils.isNotEmpty(limit)) {
            request.addApiParameter("limit", limit);
        }
        LazopResponse response = null;
        try {
            response = client.execute(request, accessToken);
        } catch (ApiException e) {
            logger.error(e.getMessage(), e);
            throw new LazadaException(e);
        }
        logger.info("ordersGet, response.body is:" + response.getBody());
        JSONObject jsonObject = new JSONObject(response.getBody());
        return jsonObject;
    }

    /**
     * 获取单个订单
     */
    public static JSONObject orderGet(String accessToken, String orderId) {
        if (CommonUtil.isDev()) {
            return orderGetForTest();
        }
        YmlConfig ymlConfig = (YmlConfig) SpringUtil.getBean("ymlConfig");
        LazopClient client = new LazopClient(url, ymlConfig.getAppkey(), ymlConfig.getAppSecret());
        LazopRequest request = new LazopRequest();
        request.setApiName("/order/get");
        request.setHttpMethod("GET");
        request.addApiParameter("order_id", orderId);
        LazopResponse response = null;
        try {
            response = client.execute(request, accessToken);
        } catch (ApiException e) {
            logger.error(e.getMessage(), e);
            throw new LazadaException(e);
        }
        logger.info("orderGet, response.body is:" + response.getBody());
        JSONObject jsonObject = new JSONObject(response.getBody());
        return jsonObject.getJSONObject("data");
    }

    /**
     * 取得订单下的子订单列表
     */
    public static JSONObject orderItemsGet(String accessToken, String orderId) {
        if (CommonUtil.isDev()) {
            return orderItemsGetTest();
        }
        YmlConfig ymlConfig = (YmlConfig) SpringUtil.getBean("ymlConfig");
        LazopClient client = new LazopClient(url, ymlConfig.getAppkey(), ymlConfig.getAppSecret());
        LazopRequest request = new LazopRequest();
        request.setApiName("/order/items/get");
        request.setHttpMethod("GET");
        request.addApiParameter("order_id", orderId);
        LazopResponse response = null;
        try {
            response = client.execute(request, accessToken);
        } catch (ApiException e) {
            logger.error(e.getMessage(), e);
            throw new LazadaException(e);
        }
        logger.info("orderItemsGet, response.body is:" + response.getBody());
        JSONObject jsonObject = new JSONObject(response.getBody());
        return jsonObject;
    }

    private static JSONObject orderItemsGetTest() {
        String text = "{\"data\":[{\"paid_price\":489.00,\"product_main_image\":\"https://my-live-02.slatic.net/p/83ea7e0416689ccd54e5ea6506af066d.jpg\",\"tax_amount\":0.00,\"voucher_platform\":0,\"reason\":\"cancel\",\"sla_time_stamp\":\"2019-06-04T23:59:59+08:00\",\"product_detail_url\":\"https://www.lazada.com.my/-i498240238-s916144363.html?urlFlag=true&mp=1\",\"promised_shipping_time\":\"\",\"purchase_order_id\":\"\",\"voucher_seller\":0,\"shipping_type\":\"Dropshipping\",\"created_at\":\"2019-05-31 13:46:04 +0800\",\"voucher_code\":\"\",\"package_id\":\"\",\"variation\":\"Size:Int: One size, Color Family:Green\",\"updated_at\":\"2019-06-14 11:00:46 +0800\",\"purchase_order_number\":\"\",\"currency\":\"MYR\",\"shipping_provider_type\":\"standard\",\"sku\":\"4060978964380\",\"invoice_number\":\"\",\"order_type\":\"Normal\",\"cancel_return_initiator\":\"cancellation-internal\",\"shop_sku\":\"498240238_MY-916144363\",\"is_digital\":0,\"item_price\":489.00,\"shipping_service_cost\":0,\"stage_pay_status\":\"\",\"tracking_code_pre\":\"\",\"tracking_code\":\"\",\"shipping_amount\":2.00,\"order_item_id\":222968559699002,\"reason_detail\":\"\",\"shop_id\":\"Chris\",\"order_flag\":\"NORMAL\",\"return_status\":\"\",\"name\":\"Defy Trailblazer Women’s Training Shoes - TEST PRODUCT\",\"shipment_provider\":\"\",\"voucher_amount\":0.00,\"digital_delivery_info\":\"\",\"extra_attributes\":\"\",\"order_id\":222968559499002,\"status\":\"canceled\"},{\"paid_price\":45.00,\"product_main_image\":\"https://my-live-02.slatic.net/p/435e5863e2faa0d81594044b7504e61a.jpg\",\"tax_amount\":0.00,\"voucher_platform\":0,\"reason\":\"cancel\",\"sla_time_stamp\":\"2019-06-04T23:59:59+08:00\",\"product_detail_url\":\"https://www.lazada.com.my/-i498214969-s916164133.html?urlFlag=true&mp=1\",\"promised_shipping_time\":\"\",\"purchase_order_id\":\"\",\"voucher_seller\":0,\"shipping_type\":\"Dropshipping\",\"created_at\":\"2019-05-31 13:46:04 +0800\",\"voucher_code\":\"\",\"package_id\":\"\",\"variation\":\"Size:Int: One size, Color Family:Blue Gray\",\"updated_at\":\"2019-06-14 11:00:46 +0800\",\"purchase_order_number\":\"\",\"currency\":\"MYR\",\"shipping_provider_type\":\"standard\",\"sku\":\"4059504723164\",\"invoice_number\":\"\",\"order_type\":\"Normal\",\"cancel_return_initiator\":\"cancellation-internal\",\"shop_sku\":\"498214969_MY-916164133\",\"is_digital\":0,\"item_price\":45.00,\"shipping_service_cost\":0,\"stage_pay_status\":\"\",\"tracking_code_pre\":\"\",\"tracking_code\":\"\",\"shipping_amount\":2.00,\"order_item_id\":222968559799002,\"reason_detail\":\"\",\"shop_id\":\"Chris\",\"order_flag\":\"NORMAL\",\"return_status\":\"\",\"name\":\"ARCHIVE BB cap - TEST PRODUCT\",\"shipment_provider\":\"\",\"voucher_amount\":0.00,\"digital_delivery_info\":\"\",\"extra_attributes\":\"\",\"order_id\":222968559499002,\"status\":\"canceled\"}],\"code\":\"0\",\"request_id\":\"0ba9f84415629241999672294\"}";
        return new JSONObject(text);
    }

    private static JSONObject orderGetForTest() {
        String text = "{\"voucher\":\"0.00\",\"customer_first_name\":\"First Name\",\"order_number\":\"300034416\",\"created_at\":\"2014-10-15 18:36:05 +0800\",\"created_at_show\":\"15 Oct 2014\",\"invoice_date_show\":\"04 Jue 2019\",\"voucher_code\":\"3432\",\"gift_option\":\"0\",\"shipping_fee\":\"0.00\",\"branch_number\":\"2222\",\"tax_code\":\"1234\",\"customer_last_name\":\"last_name\",\"updated_at\":\"2014-10-15 18:36:05 +0800\",\"promised_shipping_times\":\"2017-03-24 16:09:22\",\"items_count\":\"1\",\"price\":\"99.00\",\"delivery_info\":\"1\",\"statuses\":\"delivered\",\"address_billing\":{\"country\":\"Singapore\",\"address3\":\"address3\",\"address2\":\"address2\",\"city\":\"Singapore-Central\",\"phone\":\"81***8\",\"address1\":\"22 leonie hill road, #13-01\",\"post_code\":\"239195\",\"phone2\":\"24***22\",\"last_name\":\"Last Name\",\"address5\":\"address5\",\"address4\":\"address4\",\"first_name\":\"First Name\"},\"national_registration_number\":\"1123\",\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":\\\"true\\\"}\",\"order_id\":\"16090\",\"gift_message\":\"Gift\",\"payment_method\":\"COD\",\"remarks\":\"remarks\",\"address_shipping\":{\"country\":\"Singapore\",\"address3\":\"address3\",\"address2\":\"address2\",\"city\":\"Singapore-Central\",\"phone\":\"94236248\",\"address1\":\"318 tanglin road, phoenix park, #01-59\",\"post_code\":\"247979\",\"phone2\":\"1******2\",\"last_name\":\"Last Name\",\"address5\":\"1******2\",\"address4\":\"address4\",\"first_name\":\"First Name\"}}";
        return new JSONObject(text);
    }

    private static JSONObject ordersGetForTest() {
        String text = "{\"data\":{\"count\":10,\"orders\":[{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":222026088254144,\"voucher_seller\":0,\"created_at\":\"2019-05-22 16:59:46 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-23 12:22:55 +0800\",\"promised_shipping_times\":\"\",\"price\":\"20.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"3*******e\",\"shipping_fee\":4.80,\"items_count\":1,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"P***k\",\"address2\":\"\",\"city\":\"Bagan Serai\",\"phone\":\"60********67\",\"address1\":\"4****************************a\",\"post_code\":\"34300\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"3***0\",\"address4\":\"B*********i\",\"first_name\":\"Tineskumar nagalingam\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":222026088254144,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"P***k\",\"address2\":\"\",\"city\":\"Bagan Serai\",\"phone\":\"60********67\",\"address1\":\"4****************************a\",\"post_code\":\"34300\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"3***0\",\"address4\":\"B*********i\",\"first_name\":\"Tineskumar nagalingam\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":222024490554144,\"voucher_seller\":0,\"created_at\":\"2019-05-22 17:08:37 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-23 12:22:12 +0800\",\"promised_shipping_times\":\"\",\"price\":\"20.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"3*******e\",\"shipping_fee\":4.80,\"items_count\":1,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"P***k\",\"address2\":\"\",\"city\":\"Bagan Serai\",\"phone\":\"60********67\",\"address1\":\"4****************************a\",\"post_code\":\"34300\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"3***0\",\"address4\":\"B*********i\",\"first_name\":\"Tineskumar nagalingam\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":222024490554144,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"P***k\",\"address2\":\"\",\"city\":\"Bagan Serai\",\"phone\":\"60********67\",\"address1\":\"4****************************a\",\"post_code\":\"34300\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"3***0\",\"address4\":\"B*********i\",\"first_name\":\"Tineskumar nagalingam\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":222294126154144,\"voucher_seller\":0,\"created_at\":\"2019-05-22 15:09:55 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-22 16:48:35 +0800\",\"promised_shipping_times\":\"\",\"price\":\"20.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"3*******e\",\"shipping_fee\":4.80,\"items_count\":1,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"P***k\",\"address2\":\"\",\"city\":\"Bagan Serai\",\"phone\":\"60********67\",\"address1\":\"4****************************a\",\"post_code\":\"34300\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"3***0\",\"address4\":\"B*********i\",\"first_name\":\"Tineskumar nagalingam\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":222294126154144,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"P***k\",\"address2\":\"\",\"city\":\"Bagan Serai\",\"phone\":\"60********67\",\"address1\":\"4****************************a\",\"post_code\":\"34300\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"3***0\",\"address4\":\"B*********i\",\"first_name\":\"Tineskumar nagalingam\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":221947206099002,\"voucher_seller\":0,\"created_at\":\"2019-05-21 13:55:52 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-21 19:17:33 +0800\",\"promised_shipping_times\":\"\",\"price\":\"338.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"S******o\",\"shipping_fee\":4.00,\"items_count\":2,\"delivery_info\":\"\",\"statuses\":[\"canceled\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":221947206099002,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":221943469599002,\"voucher_seller\":0,\"created_at\":\"2019-05-21 13:51:47 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-21 19:02:25 +0800\",\"promised_shipping_times\":\"\",\"price\":\"65.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"S******o\",\"shipping_fee\":4.00,\"items_count\":1,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":221943469599002,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":222222181199002,\"voucher_seller\":0,\"created_at\":\"2019-05-21 13:53:04 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-21 19:02:25 +0800\",\"promised_shipping_times\":\"\",\"price\":\"978.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"S******o\",\"shipping_fee\":4.00,\"items_count\":2,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":222222181199002,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":221947010899002,\"voucher_seller\":0,\"created_at\":\"2019-05-21 13:54:42 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-21 19:02:25 +0800\",\"promised_shipping_times\":\"\",\"price\":\"534.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"S******o\",\"shipping_fee\":4.00,\"items_count\":2,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":221947010899002,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":221947600199002,\"voucher_seller\":0,\"created_at\":\"2019-05-21 13:53:43 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-21 19:02:25 +0800\",\"promised_shipping_times\":\"\",\"price\":\"1,707.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"S******o\",\"shipping_fee\":4.00,\"items_count\":3,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":221947600199002,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":222221989899002,\"voucher_seller\":0,\"created_at\":\"2019-05-21 13:55:20 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-21 18:57:27 +0800\",\"promised_shipping_times\":\"\",\"price\":\"165.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"S******o\",\"shipping_fee\":4.00,\"items_count\":1,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":222221989899002,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"S******r\",\"address2\":\"\",\"city\":\"Petaling Jaya\",\"phone\":\"60********03\",\"address1\":\"M********************************************************************************************************************a\",\"post_code\":\"47820\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"4***0\",\"address4\":\"P***********a\",\"first_name\":\"Seth Koo\"}},{\"voucher_platform\":0,\"voucher\":0.00,\"order_number\":221380673254144,\"voucher_seller\":0,\"created_at\":\"2019-05-15 21:48:56 +0800\",\"voucher_code\":\"\",\"gift_option\":false,\"customer_last_name\":\"\",\"updated_at\":\"2019-05-21 11:05:14 +0800\",\"promised_shipping_times\":\"\",\"price\":\"169.00\",\"national_registration_number\":\"\",\"payment_method\":\"COD\",\"customer_first_name\":\"3*******e\",\"shipping_fee\":4.80,\"items_count\":1,\"delivery_info\":\"\",\"statuses\":[\"ready_to_ship\"],\"address_billing\":{\"country\":\"Malaysia\",\"address3\":\"P***k\",\"address2\":\"\",\"city\":\"Bagan Serai\",\"phone\":\"60********67\",\"address1\":\"4****************************a\",\"post_code\":\"34300\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"3***0\",\"address4\":\"B*********i\",\"first_name\":\"Tineskumar nagalingam\"},\"extra_attributes\":\"{\\\"TaxInvoiceRequested\\\":false}\",\"order_id\":221380673254144,\"gift_message\":\"\",\"remarks\":\"\",\"address_shipping\":{\"country\":\"Malaysia\",\"address3\":\"P***k\",\"address2\":\"\",\"city\":\"Bagan Serai\",\"phone\":\"60********67\",\"address1\":\"4****************************a\",\"post_code\":\"34300\",\"phone2\":\"\",\"last_name\":\"\",\"address5\":\"3***0\",\"address4\":\"B*********i\",\"first_name\":\"Tineskumar nagalingam\"}}]},\"code\":\"0\",\"request_id\":\"0ba9636315586684593432967\"}";
        return new JSONObject(text);
    }

    /**
     * Get seller information,没权限
     * @return
     */
    /*@Deprecated
    public static JSONObject getSeller(String accessToken) {
        YmlConfig ymlConfig = (YmlConfig) SpringUtil.getBean("ymlConfig");
        LazopClient client = new LazopClient(url, ymlConfig.getAppkey(), ymlConfig.getAppSecret());
        LazopRequest request = new LazopRequest();
        request.setApiName("/seller/get");
        request.setHttpMethod("GET");

        LazopResponse response = null;
        try {
            response = client.execute(request, accessToken);
        } catch (ApiException e) {
            logger.error(e.getMessage(), e);
            throw new LazadaException(e);
        }
        logger.info("getSeller, response.body is:" + response.getBody());
        JSONObject jsonObject = new JSONObject(response.getBody());
        return jsonObject.getJSONObject("data");
    }*/
}
